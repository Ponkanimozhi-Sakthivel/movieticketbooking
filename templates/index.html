{% extends "base.html" %}

{% block title %}Home - MovieTix{% endblock %}

{% block content %}
<div class="container">
    <section class="now-showing">
        <h2>Now Showing</h2>
        <div class="movie-grid">
            {% for movie in now_showing %}
            <div class="movie-card">
                {% if movie.poster_image %}
                <img src="{{ url_for('static', filename='movie_posters/' + movie.poster_image) }}" 
                     alt="{{ movie.title }}" class="movie-poster">
                {% else %}
                <img src="{{ url_for('static', filename='images/default-poster.jpg') }}" 
                     alt="Default poster" class="movie-poster">
                {% endif %}
                <div class="movie-info">
                    <h3 class="movie-title">{{ movie.title }}</h3>
                    <p>{{ movie.language }} | {{ movie.duration }} mins</p>
                    <p class="movie-genre">{{ movie.genre }}</p>
                    <a href="{{ url_for('movie_detail', movie_id=movie.id) }}" 
                       class="btn btn-primary">Book Now</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <section class="coming-soon">
        <h2>Coming Soon</h2>
        <div class="movie-grid">
            {% for movie in coming_soon %}
            <div class="movie-card">
                {% if movie.poster_image %}
                <img src="{{ url_for('static', filename='movie_posters/' + movie.poster_image) }}" 
                     alt="{{ movie.title }}" class="movie-poster">
                {% else %}
                <img src="{{ url_for('static', filename='images/default-poster.jpg') }}" 
                     alt="Default poster" class="movie-poster">
                {% endif %}
                <div class="movie-info">
                    <h3 class="movie-title">{{ movie.title }}</h3>
                    <p>{{ movie.language }} | {{ movie.duration }} mins</p>
                    <p class="movie-genre">{{ movie.genre }}</p>
                    <p class="release-date">Releasing: {{ movie.release_date.strftime('%d %b %Y') }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
</div>
{% endblock %}